CREATE TABLE DEPARTMENT(
DNO VARCHAR (20) PRIMARY KEY,
DNAME VARCHAR (20),
MGRSTARTDATE DATE);

CREATE TABLE EMPLOYEE(
SSN VARCHAR (20) PRIMARY KEY,
FNAME VARCHAR (20),
LNAME VARCHAR (20),
ADDRESS VARCHAR (20),
SEX CHAR (1),
SALARY INTEGER,
SUPERSSN VARCHAR(2),
FOREIGN KEY(SUPERSSN) REFERENCES EMPLOYEE (SSN),
DNO VARCHAR(2),
FOREIGN KEY (DNO) REFERENCES DEPARTMENT (DNO));

CREATE TABLE DLOCATION(
DLOC VARCHAR (20),
DNO VARCHAR(2),
FOREIGN KEY(DNO) REFERENCES DEPARTMENT (DNO),
PRIMARY KEY (DNO, DLOC));

CREATE TABLE PROJECT (
PNO INTEGER PRIMARY KEY,
PNAME VARCHAR (20),
PLOCATION VARCHAR (20),
DNO VARCHAR(2),
FOREIGN KEY(DNO) REFERENCES DEPARTMENT (DNO));â€ƒ

CREATE TABLE WORKS_ON(
HOURS INT (2),
SSN VARCHAR(20),
FOREIGN KEY(SSN) REFERENCES EMPLOYEE (SSN),
PNO INTEGER,
FOREIGN KEY (PNO) REFERENCES PROJECT(PNO),
PRIMARY KEY (SSN, PNO));

ALTER TABLE DEPARTMENT
ADD MGRSSN VARCHAR(20);

ALTER TABLE DEPARTMENT
ADD FOREIGN KEY(MGRSSN) REFERENCES EMPLOYEE (SSN);
